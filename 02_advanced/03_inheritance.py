# 03_inheritance.py - ç»§æ‰¿ (Inheritance)
# æ ¸å¿ƒæ¦‚å¿µï¼š
# 1. ç»§æ‰¿ (Inheritance): å­ç±»è‡ªåŠ¨æ‹¥æœ‰çˆ¶ç±»çš„åŠŸèƒ½
# 2. é‡å†™ (Override): å­ç±»ä¿®æ”¹çˆ¶ç±»çš„è¡Œä¸º
# 3. æ‰©å±• (Extend): å­ç±»åœ¨çˆ¶ç±»åŸºç¡€ä¸Šå¢åŠ æ–°åŠŸèƒ½ (ä½¿ç”¨ super())

# ==========================================
# ç¬¬ä¸€éƒ¨åˆ†ï¼šå®šä¹‰åŸºç±» (Base Class)
# ==========================================
class Animal:
    """æ‰€æœ‰åŠ¨ç‰©çš„åŸºç±»"""
    def __init__(self, name):
        self.name = name

    def eat(self):
        print(f"ğŸ½ï¸  {self.name} æ­£åœ¨å¤§å£åƒé¥­...")

    def speak(self):
        # è¿™æ˜¯ä¸€ä¸ªé€šç”¨è¡Œä¸ºï¼Œå…·ä½“åŠ¨ç‰©å¯ä»¥æ”¹å†™å®ƒ
        print(f"ğŸ”Š {self.name} å‘å‡ºäº†ä¸€äº›å£°éŸ³")

# ==========================================
# ç¬¬äºŒéƒ¨åˆ†ï¼šåŸºæœ¬ç»§æ‰¿ (Basic Inheritance)
# ==========================================
class Dog(Animal):
    """ç‹—ç±»ï¼šç»§æ‰¿è‡ª Animal"""
    # è¿™é‡Œæˆ‘ä»¬æ²¡æœ‰å†™ __init__ å’Œ eatï¼Œ
    # å®ƒä»¬ä¼šè‡ªåŠ¨ä» Animal é‚£é‡Œâ€œå¤åˆ¶â€è¿‡æ¥ã€‚
    
    def speak(self):
        # ã€æ–¹æ³•é‡å†™ã€‘Override
        # ç‹—å«å£°æ˜¯å…·ä½“çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦†ç›–äº†çˆ¶ç±»çš„ speak
        print(f"ğŸ¶ {self.name}: æ±ªæ±ªæ±ªï¼")

class Cat(Animal):
    """çŒ«ç±»ï¼šç»§æ‰¿è‡ª Animal"""
    def speak(self):
        print(f"ğŸ± {self.name}: å–µå–µå–µ~")

# ==========================================
# ç¬¬ä¸‰éƒ¨åˆ†ï¼šä½¿ç”¨ super() æ‰©å±•åŠŸèƒ½
# ==========================================
class GuideDog(Dog):
    """å¯¼ç›²çŠ¬ï¼šç»§æ‰¿è‡ª Dog"""
    def __init__(self, name, owner):
        # ã€å…³é”®ç‚¹ã€‘æˆ‘ä»¬æƒ³ä¿ç•™çˆ¶ç±»(Dog/Animal)çš„åˆå§‹åŒ–é€»è¾‘ï¼ˆè®¾ç½® nameï¼‰
        # æ‰€ä»¥ç”¨ super().__init__(name) è®©çˆ¶ç±»å…ˆå¸®å¿™æŠŠ name è®¾ç½®å¥½
        super().__init__(name)
        
        # ç„¶åå†åšè‡ªå·±ç‹¬æœ‰çš„äº‹ï¼šè®¾ç½® owner
        self.owner = owner

    def work(self):
        # è¿™æ˜¯å¯¼ç›²çŠ¬ç‰¹æœ‰çš„æ–¹æ³•ï¼Œæ™®é€šç‹—ä¸ä¼š
        print(f"ğŸ¦® {self.name} æ­£åœ¨å¼•å¯¼ä¸»äºº {self.owner} è¿‡é©¬è·¯...")

# ==========================================
# ä¸»ç¨‹åºæµ‹è¯•
# ==========================================
if __name__ == "__main__":
    print("\n=== 1. åŸºæœ¬ç»§æ‰¿æµ‹è¯• ===")
    dog = Dog("æ—ºè´¢")
    cat = Cat("å’ªå’ª")
    
    # eat() æ–¹æ³•æ˜¯ç›´æ¥ä» Animal ç»§æ‰¿æ¥çš„
    dog.eat()
    cat.eat()

    print("\n=== 2. å¤šæ€æµ‹è¯• (åŒä¸€ä¸ªæ–¹æ³•ï¼Œä¸åŒè¡¨ç°) ===")
    dog.speak()  # æ±ªæ±ª
    cat.speak()  # å–µå–µ
    
    # ç”šè‡³åŸºç±»ä¹Ÿå¯ä»¥å®ä¾‹åŒ–ï¼ˆè™½ç„¶é€šå¸¸ä¸è¿™ä¹ˆåšï¼‰
    unknown = Animal("æœªçŸ¥ç”Ÿç‰©")
    unknown.speak() # å‘å‡ºä¸€äº›å£°éŸ³

    print("\n=== 3. super() æ‰©å±•æµ‹è¯• ===")
    # å¯¼ç›²çŠ¬æ—¢æœ‰ name (æ¥è‡ª Animal)ï¼Œåˆæœ‰ owner (æ¥è‡ª GuideDog)
    guide = GuideDog("é˜¿é»„", "ç›²äººæå¤§çˆ·")
    
    guide.eat()   # ç»§æ‰¿è‡ª Animal
    guide.speak() # ç»§æ‰¿è‡ª Dog (å› ä¸º GuideDog æ²¡é‡å†™ speakï¼Œæ‰€ä»¥ç”¨çˆ¸çˆ¸ Dog çš„)
    guide.work()  # GuideDog ç‹¬æœ‰
