# 05_methods.py - æ–¹æ³•ä¸‰å‰‘å®¢ (Instance vs Class vs Static Methods)
# æ ¸å¿ƒæ¦‚å¿µï¼š
# 1. å®ä¾‹æ–¹æ³• (Instance Method): æ“ä½œå¯¹è±¡ (self)
# 2. ç±»æ–¹æ³• (Class Method): æ“ä½œç±»æœ¬èº« (cls)
# 3. é™æ€æ–¹æ³• (Static Method): çº¯å·¥å…·å‡½æ•°ï¼Œæ—¢ä¸æ“ä½œå¯¹è±¡ä¹Ÿä¸æ“ä½œç±»

class Robot:
    # ç±»å˜é‡ï¼šå±äºç±»ï¼Œæ‰€æœ‰å¯¹è±¡å…±äº«
    population = 0

    def __init__(self, name):
        self.name = name
        # æ¯æ¬¡åˆ›å»ºæ–°å¯¹è±¡ï¼Œç±»å˜é‡ +1
        Robot.population += 1
        print(f"ğŸ¤– {self.name} å·²åˆ¶é€ å®Œæˆã€‚")

    # -------------------------------------------------------
    # 1. å®ä¾‹æ–¹æ³• (æœ€å¸¸è§çš„)
    # ç‰¹å¾ï¼šç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ self (ä»£è¡¨å¯¹è±¡è‡ªå·±)
    # ç”¨é€”ï¼šè®¿é—®æˆ–ä¿®æ”¹å¯¹è±¡çš„å±æ€§ (self.name)
    # -------------------------------------------------------
    def introduce(self):
        print(f"å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ {self.name}ã€‚")

    # -------------------------------------------------------
    # 2. ç±»æ–¹æ³• (@classmethod)
    # ç‰¹å¾ï¼šç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ cls (ä»£è¡¨ç±»æœ¬èº«ï¼Œå³ Robot)
    # ç”¨é€”ï¼š
    #   a. è®¿é—®ç±»å˜é‡ (cls.population)
    #   b. "å·¥å‚æ¨¡å¼"ï¼šç”¨æ¥åˆ›å»ºå¯¹è±¡
    # -------------------------------------------------------
    @classmethod
    def get_population(cls):
        print(f"å½“å‰å…±æœ‰ {cls.population} ä¸ªæœºå™¨äººã€‚")

    @classmethod
    def from_string(cls, robot_str):
        # å‡è®¾è¾“å…¥æ˜¯ "R2D2-Blue"
        name, color = robot_str.split('-')
        # cls(name) ç›¸å½“äº Robot(name)
        return cls(name) 

    # -------------------------------------------------------
    # 3. é™æ€æ–¹æ³• (@staticmethod)
    # ç‰¹å¾ï¼šæ²¡æœ‰ self ä¹Ÿæ²¡æœ‰ cls
    # ç”¨é€”ï¼šå•çº¯çš„é€»è¾‘åˆ¤æ–­ï¼Œè·Ÿå…·ä½“çš„æœºå™¨äººæˆ–ç±»éƒ½æ²¡å…³ç³»ï¼Œåªæ˜¯ä¸ºäº†æ–¹ä¾¿ç®¡ç†æ”¾è¿™é‡Œ
    # -------------------------------------------------------
    @staticmethod
    def is_valid_name(name):
        return len(name) > 1 and name.isalnum()

# ==========================================
# æµ‹è¯•ä»£ç 
# ==========================================
if __name__ == "__main__":
    print("--- 1. é™æ€æ–¹æ³•æµ‹è¯• (é€»è¾‘åˆ¤æ–­) ---")
    print(f"åå­— 'A' åˆæ³•å—? {Robot.is_valid_name('A')}")      # False (å¤ªçŸ­)
    print(f"åå­— 'R2D2' åˆæ³•å—? {Robot.is_valid_name('R2D2')}") # True

    print("\n--- 2. ç±»æ–¹æ³•æµ‹è¯• (å·¥å‚æ¨¡å¼ & ç±»çŠ¶æ€) ---")
    Robot.get_population() # å½“å‰ 0 ä¸ª

    # ä½¿ç”¨ç±»æ–¹æ³•åƒå·¥å‚ä¸€æ ·ç”Ÿäº§æœºå™¨äºº
    r1 = Robot.from_string("Bumblebee-Yellow")
    r2 = Robot("Optimus")

    print("\n--- 3. å®ä¾‹æ–¹æ³•æµ‹è¯• (ä¸ªä½“è¡Œä¸º) ---")
    r1.introduce()
    r2.introduce()

    print("\n--- 4. å†æ¬¡æŸ¥çœ‹ç±»çŠ¶æ€ ---")
    # å¯ä»¥é€šè¿‡ç±»è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å¯¹è±¡è°ƒç”¨ (ä¸æ¨èç”¨å¯¹è±¡è°ƒç”¨ç±»æ–¹æ³•ï¼Œå®¹æ˜“æ··æ·†)
    Robot.get_population() # åº”è¯¥æœ‰ 2 ä¸ªäº†
