# 04_polymorphism.py - å¤šæ€ (Polymorphism)
# æ ¸å¿ƒæ¦‚å¿µï¼šå¤šç§å½¢æ€ï¼Œç»Ÿä¸€æ¥å£

# ==========================================
# åœºæ™¯ï¼šæ”¯ä»˜ç³»ç»Ÿ
# ä¸ç®¡æ˜¯æ”¯ä»˜å®ã€å¾®ä¿¡è¿˜æ˜¯ä¿¡ç”¨å¡ï¼Œåªè¦èƒ½â€œä»˜é’±â€å°±è¡Œã€‚
# ==========================================

class AliPay:
    def pay(self, money):
        print(f"ğŸŸ¦ æ”¯ä»˜å®æ”¯ä»˜äº†: {money} å…ƒ")

class WeChatPay:
    def pay(self, money):
        print(f"ğŸŸ© å¾®ä¿¡æ”¯ä»˜äº†: {money} å…ƒ")

class CreditCard:
    def pay(self, money):
        print(f"ğŸ’³ ä¿¡ç”¨å¡æ”¯ä»˜äº†: {money} å…ƒ")

# ==========================================
# ç»Ÿä¸€çš„æ¥å£å‡½æ•°
# ==========================================
def checkout(payment_tool, money):
    """
    æ”¶é“¶å°å‡½æ•°ã€‚
    å®ƒæ ¹æœ¬ä¸å…³å¿ƒ payment_tool åˆ°åº•æ˜¯ä»€ä¹ˆç±»ï¼Œ
    åªè¦å®ƒæœ‰ pay() æ–¹æ³•ï¼Œå°±èƒ½å·¥ä½œã€‚
    """
    print("ğŸ›’ å¼€å§‹ç»“è´¦...")
    payment_tool.pay(money)
    print("âœ… äº¤æ˜“å®Œæˆï¼\n")

# ==========================================
# é¸­å­ç±»å‹ (Duck Typing)
# ==========================================
class FacePay:
    """
    è¿™æ˜¯ä¸€ä¸ªæ–°å‡ºçš„æ”¯ä»˜æ–¹å¼ã€‚
    å®ƒä¸éœ€è¦ç»§æ‰¿ä»»ä½•ç‰¹å®šçš„çˆ¶ç±»ï¼Œåªè¦å®ƒé•¿å¾—åƒé¸­å­ï¼ˆæœ‰ pay æ–¹æ³•ï¼‰ï¼Œ
    Python å°±æŠŠå®ƒå½“é¸­å­ã€‚
    """
    def pay(self, money):
        print(f"ğŸ˜Š åˆ·è„¸æ”¯ä»˜äº†: {money} å…ƒ")

# ==========================================
# æµ‹è¯•ä»£ç 
# ==========================================
if __name__ == "__main__":
    # 1. å‡†å¤‡å„ç§æ”¯ä»˜å·¥å…·
    ali = AliPay()
    wechat = WeChatPay()
    card = CreditCard()
    face = FacePay()

    # 2. è¿™é‡Œçš„ checkout å‡½æ•°å±•ç¤ºäº†å¤šæ€çš„å¨åŠ›
    # åŒä¸€ä¸ªå‡½æ•°ï¼Œä¼ å…¥ä¸åŒçš„å¯¹è±¡ï¼Œè¡¨ç°å‡ºä¸åŒçš„è¡Œä¸ºã€‚
    checkout(ali, 100)
    checkout(wechat, 200)
    checkout(card, 999)
    
    # 3. Python ç‰¹æœ‰çš„â€œé¸­å­ç±»å‹â€
    # åªè¦æœ‰ pay æ–¹æ³•ï¼Œå°±èƒ½ä¼ è¿›å»ï¼Œä¸éœ€è¦å®ƒä»¬å±äºåŒä¸€ä¸ªçˆ¶ç±»
    checkout(face, 50)
